#!/usr/bin/env php
<?php

use Webmozart\Console\ConsoleApplication;
use Alzander\BluetoothFCT\BluetoothFCTApplicationConfig;
use League\Flysystem\Filesystem;
use League\Flysystem\Adapter\Local;

if (file_exists($autoload = __DIR__.'/../../../autoload.php')) {
    $loader = require_once $autoload;
} else {
    $loader = require_once __DIR__.'/../vendor/autoload.php';
}

// Add the FCT namespace, allowing for custom validators
$loader->add('FCT', __DIR__);

$adapter = new Local(__DIR__ . '/fct');
$flysystem = new Filesystem($adapter);

$cliApp = new BluetoothFCTApplicationConfig($flysystem);

$cli = new ConsoleApplication($cliApp);
$cli->run();